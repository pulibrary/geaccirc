<p id="notice"><%= notice %></p>

<h1> GEACCirc </h1>

<h2>Search</h2>
<%= form_tag(records_path, method: :get) do %>
  <%= select_tag :field, options_for_select([ "barcode", "author", "title", "call_no" ], params.fetch(:field, "title")) %>
  <%= text_field_tag(:search, params[:search]) %>
  <%= submit_tag("Search") %>
<% end %>

<h2>Records</h2>

<table>
  <thead>
    <tr>
      <th>Barcode</th>
      <th>Author</th>
      <th>Title</th>
      <th>Call no</th>
      <th>Sub loc</th>
      <th>Location</th>
      <th>Copy</th>
      <th>Status</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @records.each do |record| %>
      <tr>
        <td><%= record.barcode %></td>
        <td><%= record.author %></td>
        <td><%= record.title %></td>
        <td><%= record.call_no %></td>
        <td><%= record.sub_loc %></td>
        <td><%= record.location %></td>
        <td><%= record.copy %></td>
        <td><%= record.status %></td>
        <td><%= link_to 'Show', record %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%# Note the double equals sign "==" which marks the output as trusted and html safe: %>
<%== pagy_nav(@pagy) %>